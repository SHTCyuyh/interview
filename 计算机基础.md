# 5.29海康威视
说一下cpu在读入内存并将计算后的值返回到内存中这一过程发生了些什么？
* 读取内存（Fetch）：CPU首先发出一个读取指令（如加载指令）到内存控制器，指示需要读取特定内存地址的数据。内存控制器将根据地址信息从内存中检索数据，并将其发送给CPU。
  * 缓存命中（Cache Hit）：CPU可以直接从缓存中读取，而无需访问主存，从而提高读取速度。
  * 缓存未命中（Cache Miss）：内存控制器将从主存中读取相应的数据块，并将其传输到缓存中，以供CPU后续访问。
    * 页面地址管理（Page Address Translation）：CPU在读取和写入内存时需要进行页面地址管理。虚拟内存将物理内存抽象为连续的虚拟地址空间，而实际的物理内存是分散的。CPU使用虚拟地址进行内存访问，然后通过页表等机制将虚拟地址转换为物理地址，以访问实际的内存位置。
* 执行计算（Compute）：CPU将从内存中读取的数据加载到寄存器或缓存中，然后执行指令中的计算操作。这可能涉及到对寄存器中的数据进行加减乘除、逻辑运算、位移操作等。
* 存储结果（Store）：计算完成后，CPU将计算结果存储回内存。它将计算结果写回到特定的内存地址中，以便其他部分的程序可以访问和使用这个值。

进程和线程的区别
* 定义：进程是指计算机中正在运行的程序的实例。每个进程都有自己独立的内存空间和系统资源。线程是进程的子任务，是在进程内部执行的一条执行路径。一个进程可以包含多个线程。
* 资源占用：进程是独立的实体，拥有独立的内存空间和系统资源，如文件描述符、网络连接等。而线程是进程的一个执行单元，共享进程的资源。多个线程可以共享同一进程的内存和资源，因此创建和销毁线程的开销较小。
* 并发性：由于进程有独立的内存空间，不同进程之间的通信和数据共享相对复杂，需要使用特定的通信机制（如管道、消息队列、共享内存等）。而线程由于共享同一进程的内存空间，可以直接访问进程的全局变量和数据结构，实现线程间的通信和数据共享相对简单。
* 调度：操作系统将进程作为调度和分配资源的基本单位。每个进程都有自己的调度上下文，包括程序计数器、寄存器等。线程是在进程内部调度的，由操作系统的线程调度器进行调度。线程共享进程的调度上下文，切换线程的开销较小
* 安全性：由于不同进程有独立的内存空间，一个进程的错误或异常不会直接影响其他进程。而线程共享进程的内存空间，一个线程的错误可能会导致整个进程崩溃。
  
线程调用的算法
* 先来先服务（FCFS）：按照线程到达的顺序进行调度。当一个线程执行完毕或发生阻塞时，调度器选择下一个等待的线程来执行。
* 线程没有完成，调度器将暂停该线程并将其放入就绪队列的末尾，并选择下一个线程执行。
* 优先级调度（Priority Scheduling）：为每个线程分配一个优先级，优先级较高的线程先执行。当多个线程具有相同优先级时，可以使用先来先服务或轮转调度。
* 最短作业优先（Shortest Job Next）：选择估计执行时间最短的线程来执行，以最小化平均等待时间。需要对线程的执行时间进行估计或测量。
* 多级反馈队列调度（Multilevel Feedback Queue Scheduling）：将线程划分为多个队列，每个队列具有不同的优先级。线程首先进入最高优先级队列，如果时间片用完仍未完成，则降低优先级并进入下一个队列。这种调度算法考虑了线程的历史行为和执行时间
* 抢占式调度（Preemptive Scheduling）：允许一个正在执行的线程被另一个具有更高优先级的线程抢占。抢占式调度可以提高对紧急任务的响应，并防止某个线程长时间占用CPU。
  
  